[gd_scene load_steps=13 format=3 uid="uid://ywoyok5tydq4"]

[ext_resource type="PackedScene" uid="uid://cn5exqofse4gx" path="res://assets/scenes/areafunctionality/area_template.tscn" id="1_db1nh"]
[ext_resource type="Texture2D" uid="uid://hyob60jedd6l" path="res://assets/sprites/sky5_files/1270158.png" id="2_ka6na"]
[ext_resource type="Script" uid="uid://k3u7wy4di45j" path="res://assets/scripts/sign.gd" id="3_ifg76"]
[ext_resource type="Texture2D" uid="uid://buif6vf1l1jg1" path="res://assets/sprites/realscroll.png" id="3_sr7qv"]
[ext_resource type="FontFile" uid="uid://bo71eqjcpeyp2" path="res://assets/Fonts/Kenney Mini.ttf" id="5_jjeiq"]
[ext_resource type="Script" uid="uid://doshlwbkqt0ut" path="res://assets/scripts/scrollwriting.gd" id="6_ka6na"]
[ext_resource type="Texture2D" uid="uid://bt0t12usacdn7" path="res://assets/sprites/art_atlas.png" id="7_4k2ok"]
[ext_resource type="Script" uid="uid://bx1i85tj2ag6q" path="res://assets/scripts/enemy.gd" id="7_d133c"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_d133c"]
size = Vector2(8, 9)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ifg76"]
size = Vector2(38, 24)

[sub_resource type="LabelSettings" id="LabelSettings_ka6na"]
font = ExtResource("5_jjeiq")
font_size = 8

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tg1fm"]
size = Vector2(11, 12)

[node name="area1" instance=ExtResource("1_db1nh")]

[node name="Area2D" type="Area2D" parent="PlayerStartPosition" index="0"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerStartPosition/Area2D" index="0"]
position = Vector2(0, -4.5)
shape = SubResource("RectangleShape2D_d133c")

[node name="TileMap" parent="." index="1"]
layer_0/tile_data = PackedInt32Array(0, 65536, 0, 65535, 65536, 0, 65534, 65536, 0, 1, 65536, 0, 2, 65536, 0, 3, 65536, 0, 4, 65536, 0, 5, 65536, 0, 6, 65536, 0, 7, 65536, 0, 8, 65536, 0, 9, 65536, 0, 10, 65536, 0, 11, 65536, 0, 12, 65536, 0, 13, 65536, 0, -131063, 65536, 0, -131064, 65536, 0, -131065, 65536, 0, -131062, 65536, 0, -131061, 65536, 0, -131066, 65536, 0, -131067, 65536, 0, -131068, 65536, 0, 65533, 65536, 0, 65532, 65536, 0, 65531, 65536, 0, 65530, 65536, 0, 65529, 65536, 0, 65528, 65536, 0, 65527, 65536, 0, 14, 65536, 0, 15, 65536, 0, 16, 65536, 0, 17, 65536, 0, 18, 65536, 0, 19, 65536, 0, 20, 65536, 0, 21, 65536, 0, 22, 65536, 0, 23, 65536, 0, 24, 65536, 0, 25, 65536, 0, 26, 65536, 0, 27, 65536, 0, 28, 65536, 0, 29, 65536, 0, 30, 65536, 0, 31, 65536, 0, 32, 65536, 0, 33, 65536, 0, 34, 65536, 0, 35, 65536, 0, 36, 65536, 0, 37, 65536, 0, 38, 65536, 0, 39, 65536, 0, 40, 65536, 0, 41, 65536, 0, 42, 65536, 0, 43, 65536, 0, 44, 65536, 0, -196564, 196608, 0, -131028, 196608, 1, -65492, 196608, 2, -393172, 196608, 0, -327636, 196608, 1, -262100, 196608, 2, -589780, 196608, 0, -524244, 196608, 1, -458708, 196608, 2, -786388, 196608, 0, -720852, 196608, 1, -655316, 196608, 2, -982996, 196608, 1, -917460, 196608, 2, -851924, 196608, 2, -1638356, 196608, 0, -1572820, 196608, 1, -1507284, 196608, 2, -1441748, 196608, 0, -1376212, 196608, 1, -1310676, 196608, 2, -1245140, 196608, 0, -1179604, 196608, 1, -1114068, 196608, 2, -1048532, 196608, 0, -655328, 65536, 0, -655327, 65536, 0)

[node name="capsule1" parent="capsules" index="0"]
position = Vector2(208, -19)

[node name="capsule3" parent="capsules" index="1"]
position = Vector2(241, -13)

[node name="capsule2" parent="capsules" index="2"]
position = Vector2(223, -17)

[node name="capsule4" parent="capsules" index="3"]
position = Vector2(259, -15)

[node name="backgroundmusic" parent="." index="3"]
volume_db = -80.0

[node name="areaexit" parent="." index="4"]
position = Vector2(331, -28)

[node name="background" type="Sprite2D" parent="." index="5"]
z_index = -4000
position = Vector2(1280, -216)
scale = Vector2(0.497656, 0.488889)
texture = ExtResource("2_ka6na")

[node name="sign" type="Node2D" parent="." index="6"]
script = ExtResource("3_ifg76")

[node name="signappearance" type="Sprite2D" parent="sign" index="0"]
visibility_layer = 2
z_index = -2
position = Vector2(-65, -20)
scale = Vector2(0.0197802, 0.0309091)
texture = ExtResource("3_sr7qv")

[node name="CharacterBody2D" type="Area2D" parent="sign" index="1"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="sign/CharacterBody2D" index="0"]
position = Vector2(-65, -19)
shape = SubResource("RectangleShape2D_ifg76")

[node name="scrollwriting" type="Label" parent="sign/CharacterBody2D" index="1"]
offset_left = -127.0
offset_top = -63.0
offset_right = 100.0
offset_bottom = -25.0
text = "             WOW, niveau de BOSS!
 Ã©vite les enemis et ramasse les coins!"
label_settings = SubResource("LabelSettings_ka6na")
script = ExtResource("6_ka6na")

[node name="enemy" type="CharacterBody2D" parent="." index="7"]
position = Vector2(132, -40)
script = ExtResource("7_d133c")

[node name="CollisionShape2D" type="CollisionShape2D" parent="enemy" index="0"]
position = Vector2(0, 1)
shape = SubResource("RectangleShape2D_tg1fm")
disabled = true

[node name="Area2D" type="Area2D" parent="enemy" index="1"]

[node name="CollisionShape2D2" type="CollisionShape2D" parent="enemy/Area2D" index="0"]
position = Vector2(0, 1)
shape = SubResource("RectangleShape2D_tg1fm")

[node name="enemysprite" type="Sprite2D" parent="enemy" index="2"]
texture_filter = 1
texture = ExtResource("7_4k2ok")
region_enabled = true
region_rect = Rect2(0, 0, 16, 16)

[node name="leftray" type="RayCast2D" parent="enemy" index="3"]
position = Vector2(-7, 6)
target_position = Vector2(0, 5)
hit_from_inside = true

[node name="rightray" type="RayCast2D" parent="enemy" index="4"]
position = Vector2(7, 6)
target_position = Vector2(0, 5)
hit_from_inside = true

[node name="leftwallray" type="RayCast2D" parent="enemy" index="5"]
position = Vector2(-7, 2)
target_position = Vector2(-2, 0)

[node name="rightwallray" type="RayCast2D" parent="enemy" index="6"]
position = Vector2(7, 2)
target_position = Vector2(2, 0)

[connection signal="child_entered_tree" from="." to="sign/CharacterBody2D/scrollwriting" method="_on_area_1_child_entered_tree"]
[connection signal="body_entered" from="PlayerStartPosition/Area2D" to="enemy" method="_on_area_2d_body_entered"]
[connection signal="body_entered" from="sign/CharacterBody2D" to="sign" method="_on_character_body_2d_body_entered"]
[connection signal="body_entered" from="sign/CharacterBody2D" to="sign/CharacterBody2D/scrollwriting" method="_on_character_body_2d_body_entered"]
[connection signal="body_exited" from="sign/CharacterBody2D" to="sign/CharacterBody2D/scrollwriting" method="_on_character_body_2d_body_exited"]
[connection signal="body_entered" from="enemy/Area2D" to="." method="_on_area_2d_body_entered"]
